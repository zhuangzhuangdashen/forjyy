<!DOCTYPE html>
<html class="">
    
    <head>
        <meta charset="UTF-8">
        <title>欢迎页面-X-admin2.2</title>
        <meta name="renderer" content="webkit">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
        <link rel="stylesheet" href="../static/css/font.css">
        <link rel="stylesheet" href="../static/css/xadmin.css">
        <!--[if lt IE 9]>
          <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
          <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    
    <body>
        <div class="x-nav">
            <span class="layui-breadcrumb">
                <a href="">首页</a>
                <a href="">演示</a>
                <a>
                    <cite>导航元素</cite></a>
            </span>
            <a class="layui-btn layui-btn-small" style="line-height:1.6em;margin-top:3px;float:right" onclick="location.reload()" title="刷新">
                <i class="layui-icon layui-icon-refresh" style="line-height:30px"></i>
            </a>
        </div>
        <div class="layui-fluid" id="divvuehtml">
            <div class="layui-row layui-col-space15">
                <div class="layui-col-md12">
                    <div class="layui-card">
                        <div class="layui-card-body ">
                           <h3 style="text-align: center;color: red;line-height: 50px;">请在下面输入你的接口参数</h3>
                           <form class="layui-form layui-form-pane layui-col-space5" id="formbd" method="post">
                            <div class="layui-form-item">
                               <label class="layui-form-label">URL</label>
                               <div class="layui-input-block">
                               <input type="text" name="url" required  lay-verify="required" placeholder="请输入URL" autocomplete="off" class="layui-input">
                               </div>
                            </div>

                            
                            <div class="layui-form-item" pane>
                               <div class="layui-inline">
                                 <label class="layui-form-label">传输方式</label>
                                 <div class="layui-input-block">
                                 <input type="radio" name="csfs" value="post"  lay-filter="csfs" title="POST">
                                 <input type="radio" name="csfs" value="get"   lay-filter="csfs" title="GET" checked="checked">
                                 </div>
                               </div>
                                
                               <div class="layui-inline" id="csgs" style="display: none;">
                                 <label class="layui-form-label">参数格式</label>
                                 <div class="layui-input-block">
                                 <input type="radio" name="csgs" value="json" title="json" checked="checked">
                                 <input type="radio" name="csgs" value="x-www-form-urlencoded" title="application/x-www-form-urlencoded">
                                 </div>
                               </div>
                               
                              
                            </div>
                            
                            <div class="layui-form-item">
                               <label class="layui-form-label">cookie</label>
                               <div class="layui-input-block">
                               <input type="text" name="cookieparm"  placeholder="请输入Cookie" autocomplete="off" class="layui-input">
                               </div>
                            </div>
                            
                            <div class="layui-form-item" pane>
                               <div class="layui-inline">
                                  <label class="layui-form-label">时间戳</label>
                                  <div class="layui-input-block">
                                  <input type="radio" name="sjc"  lay-filter="sjc"  value="0" title="无" checked="checked">
                                  <input type="radio" name="sjc"  lay-filter="sjc"  value="1" title="有">
                                  </div>
                               </div>
                               <div class="layui-inline" id="sjcgs" style="display: none;">
                                  <label class="layui-form-label">格式</label>
                                  <div class="layui-input-block">
                                  <input type="radio" name="sjcgs" required lay-verify="required" value="0" title="YYYY-MM-DD">
                                  <input type="radio" name="sjcgs" required lay-verify="required" value="1" title="YYYY-MM-DD HH:MM">
                                  <input type="radio" name="sjcgs" required lay-verify="required" value="2" title="YYYY-MM-DD HH:MM:SS" checked="checked">
                                  </div>
                               </div>
                            </div>

                           <div class="layui-form-item">
                              <table class="layui-table">
                              <colgroup>
                              <col width="45%">
                              <col width="45%">
                              <col>
                              </colgroup>
                              <thead>
                              <tr>
                              <th>KEY</th>
                              <th>VUE</th>
                              <th>操作</th>
                              </tr> 
                              </thead>
                              <tbody class="cs">
                              <tr>
                              <td><input type="text" name="keyparm" required  lay-verify="required" placeholder="请输入Key" autocomplete="off" class="layui-input"></td>
                              <td><input type="text" name="vueparm" required  lay-verify="required" placeholder="请输入Value" autocomplete="off" class="layui-input"></td>
                              <td><button class="layui-btn layui-btn-sm" onclick="addTR();return false;">增加</button><button class="layui-btn layui-btn-sm" onclick="removeTR(this);return false;">删除</button></td>
                              </tr>
                              </tbody>
                              </table>         
                           </div>
                            
                            <div class="layui-form-item" style="text-align: center;">
                              <button class="layui-btn" lay-submit="" id="btn" lay-filter="demo2">开始远程接口调试</button>
                            </div>
                           
                           </form>
                        </div>
                    </div>
                    
                    <div class="layui-card">
                      <div class="layui-card-body">
                      <h3 style="text-align: center;color: red;line-height: 50px;">返回的回调参数</h3>
                       <table class="layui-table">
                          <colgroup>
                              <col width="5%">
                              <col width="20%">
                              <col width="5%">
                              <col width="20%">
                              <col width="5%">
                              <col width="20%">
                              <col>
                          </colgroup>
                          <tbody>
                          <tr>
                          <td>响应时间</td>
                          <td>{{menuItems.date}}</td>
                          <td>状态码</td>
                          <td>{{menuItems.code}}</td>
                          </tr>
                          <tr>
                          <td>响应内容</td>
                          <td colspan="3">
                          {{menuItems.conten}}
                          </td>
                          </tr>
                          </tbody>
                       </table>     
                      </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
          
    <script src="../static/lib/layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="../static/js/xadmin.js"></script>
    <script type="text/javascript" src="../static/js/vue.js"></script>
    <script type="text/javascript">
    var ve = new Vue({
    	el: '#divvuehtml',//绑定vue渲染范围
 	    data: {
 	        menuItems:[]//初始化菜单资源list
 	    },
 	    created: function () {//vue在打开html也没初始化创建函数
 	      layui.config({
 	    		base: '../admin/js/'
 	      });
 	      layui.use(['form','notice'], function(){
 	         var form = layui.form;
 	         var notice = layui.notice;
 	         // 初始化配置，同一样式只需要配置一次，非必须初始化，有默认配置
 	         notice.options = {
 	         closeButton:true,//显示关闭按钮
 	         debug:false,//启用debug
 	         positionClass:"toast-top-center",//弹出的位置,
 	         showDuration:"300",//显示的时间
 	         hideDuration:"1000",//消失的时间
 	         timeOut:"2000",//停留的时间
 	         extendedTimeOut:"1000",//控制时间
 	         showEasing:"swing",//显示时的动画缓冲方式
 	         hideEasing:"linear",//消失时的动画缓冲方式
 	         iconClass: 'toast-info', // 自定义图标，有内置，如不需要则传空 支持layui内置图标/自定义iconfont类名
 	         onclick: null, // 点击关闭回调
 	         };
 	      //监听提交
 	      form.on('submit(demo2)', function(data){
 	    	 $("#btn").attr("class","layui-btn layui-btn-disabled")
 	    	 $("#btn").attr("disabled",true)
 	       	 var params = $("#formbd").serialize(); // http request parameters. 
 	   	        params = decodeURIComponent(params,true);
 	           $.get("../inter/gethttputil.do",params,function(data){
 	        	  ve.menuItems=data.data;
 	        	  notice.success("查询成功");
 	        	 $("#btn").attr("class","layui-btn")
 	 	    	 $("#btn").attr("disabled",false)
 	           },"json")
 	           return false;
 	      });
 	      
 	     //监听时间戳
 	     form.on('radio(sjc)', function(data){
 	       	  if(data.value=="1"){
 	       		  $("#sjcgs").show();
 	       	  }else{
 	       		  $("#sjcgs").hide();
 	       	  }
 	     }); 
 	     
 	     //监听传参格式
 	     form.on('radio(csfs)', function(data){
 	       	  if(data.value=="post"){
 	       		  $("#csgs").show();
 	       	  }else{
 	       		  $("#csgs").hide();
 	       	  }
 	     }); 
 	     
 	   });
 	 }
   })
  
    
    function removeTR(ob){
      var length=$(".cs").children("tr").length;
      if(length==1){
    	  alert("不可删除，至少需要保留一个");
    	  return;
      }
  	  $(ob).parents("tr").remove();
  	  return;
    }
    
    function addTR(){
      var tr="<tr>";
          tr+="<td><input type='text' name='keyparm'  placeholder='请输入Key' autocomplete='off' class='layui-input'></td>"
          tr+="<td><input type='text' name='vueparm'  placeholder='请输入Value' autocomplete='off' class='layui-input'></td>"
          tr+="<td><button class='layui-btn layui-btn-sm' onclick='addTR();return false;'>增加</button><button class='layui-btn layui-btn-sm' onclick='removeTR(this);return false;'>删除</button></td>"
          tr+="</tr>"
      $(".cs").append(tr);
      return;
    }
    
    
    </script>
</html>